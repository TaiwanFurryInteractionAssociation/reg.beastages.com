(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{410:function(t,e){t.exports=["S","M","L","XL","2XL","3XL"]},501:function(t,e,n){var content=n(535);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(63).default)("200b461e",content,!0,{sourceMap:!1})},534:function(t,e,n){"use strict";n(501)},535:function(t,e,n){var o=n(62)(!1);o.push([t.i,".sectionBlock[data-v-47b474ed]{border-top:2px solid grey;border-bottom:2px solid grey}.sectionTitle[data-v-47b474ed]{padding:8px 0;display:flex;justify-content:center;font-size:1.2rem}.infoBlock[data-v-47b474ed]{display:flex;border-top:4px solid grey;overflow-x:auto}.infoName[data-v-47b474ed]{padding:0 16px;display:flex;align-items:center;font-weight:700;white-space:nowrap}.infoName[data-v-47b474ed],.item[data-v-47b474ed]{border-right:2px solid grey}.item[data-v-47b474ed]{padding:0 32px}.itemName[data-v-47b474ed]{padding:8px 0}.itemCount[data-v-47b474ed],.itemName[data-v-47b474ed]{display:flex;justify-content:center;white-space:nowrap}.itemCount[data-v-47b474ed]{padding-bottom:8px;font-size:2rem}",""]),t.exports=o},552:function(t,e,n){"use strict";n.r(e);var o=n(12),r=n(85),d=(n(38),n(10),n(31),n(246),n(139),n(36),n(18),n(41),n(24),n(15),n(22),n(40),n(42),n(25),n(3)),l=(n(20),n(45),n(410),n(135)),c=n.n(l),v=n(54),f=n.n(v),m=n(68);function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return d=t.done,t},e:function(t){l=!0,r=t},f:function(){try{d||null==n.return||n.return()}finally{if(l)throw r}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var C=["attendee"],y=["V","Z","D"],k={A:1,B:2},w={layout:"admin",data:function(){return{loading:!1,config:f.a.getConfig(),TYPES:C,COLORS:c.a,showManualIntervention:!1,dashboard:null}},mounted:function(){this.getDashboard()},methods:{getDashboard:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.get("/api/admin/dashboard").then((function(e){t.dashboard=e.data.data,t.$set(t.dashboard.attendee,"preRegisteredCount",0);var n,o=_(Object.keys(t.dashboard.attendee.counts).filter((function(t){return!y.includes(t)})));try{for(o.s();!(n=o.n()).done;){var r,d,l=n.value;t.dashboard.attendee.preRegisteredCount+=(null!==(r=parseInt(t.dashboard.attendee.counts[l]))&&void 0!==r?r:0)*(null!==(d=k[l])&&void 0!==d?d:1)}}catch(t){o.e(t)}finally{o.f()}var c,v=_(C);try{for(v.s();!(c=v.n()).done;){var f=c.value;if(0!=Object.keys(t.dashboard[f].manualInterventionCounts).filter((function(t){return""!=t})).length){t.showManualIntervention=!0;break}}}catch(t){v.e(t)}finally{v.f()}})).catch((function(t){m.a.showRequestError(t)}));case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}},x=(n(534),n(21)),component=Object(x.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e("Loading",{attrs:{value:t.loading}}),t._v(" "),e("div",{staticClass:"font-size:2rem flex justify-content:center py:16"},[t._v("\n    "+t._s(t.$t("admin.dashboard.title"))+"\n  ")]),t._v(" "),t.dashboard?e("div",[t.showManualIntervention?e("div",{staticClass:"sectionBlock mb:32"},[e("div",{staticClass:"sectionTitle color:#f33"},[t._v("\n        "+t._s(t.$t("admin.dashboard.needManualIntervention"))+"\n      ")]),t._v(" "),t._l(t.TYPES.filter((function(e){return 0!=Object.keys(t.dashboard[e].manualInterventionCounts).filter((function(t){return""!=t})).length})),(function(n){return e("div",{key:n,staticClass:"infoBlock"},[e("div",{staticClass:"infoName"},[t._v("\n          "+t._s(t.$t("admin.dashboard."+n+".itemName"))+"\n        ")]),t._v(" "),t._l(Object.keys(t.dashboard[n].manualInterventionCounts).filter((function(t){return""!=t})),(function(o){return e("div",{key:o,staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            "+t._s(t.$t("payment_methods."+o))+"\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(t.dashboard[n].manualInterventionCounts[o])+"\n          ")])])}))],2)}))],2):t._e(),t._v(" "),e("div",{staticClass:"sectionBlock"},[e("div",{staticClass:"sectionTitle"},[t._v("\n        "+t._s(t.$t("admin.dashboard.attendee.itemName"))+"\n      ")]),t._v(" "),e("div",{staticClass:"infoBlock"},[e("div",{staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            "+t._s(t.$t("admin.dashboard.attendee.preRegisteredCount"))+"\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(t.dashboard.attendee.preRegisteredCount)+"\n          ")])]),t._v(" "),e("div",{staticClass:"infoName"},[t._v("\n          "+t._s(t.$t("admin.dashboard.attendee.counts"))+"\n        ")]),t._v(" "),t._l(Object(r.a)(t.config.levels),(function(n){var o;return e("div",{key:n.level,staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            "+t._s(t.$t("levels."+n.level))+"\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(null!==(o=t.dashboard.attendee.counts[n.level])&&void 0!==o?o:0)+"\n          ")])])}))],2),t._v(" "),e("div",{staticClass:"infoBlock"},[e("div",{staticClass:"infoName"},[t._v("\n          "+t._s(t.$t("admin.dashboard.attendee.countryCounts"))+"\n        ")]),t._v(" "),t._l(Object.entries(t.dashboard.attendee.countryCounts).sort((function(a,b){return b[1]-a[1]})),(function(n){var r=Object(o.a)(n,2),d=r[0],l=r[1];return e("div",{key:d,staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            "+t._s(d)+"\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(l)+"\n          ")])])}))],2),t._v(" "),e("div",{staticClass:"infoBlock"},[e("div",{staticClass:"infoName"},[t._v("\n          入場門票\n        ")]),t._v(" "),e("div",{staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            總票數\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(t.dashboard.ticket.counts.tickets)+"\n          ")])]),t._v(" "),t._l(Object.keys(t.dashboard.ticket.counts.orders),(function(n){return e("div",{key:"orderStatus"+n,staticClass:"item"},[e("div",{staticClass:"itemName"},[t._v("\n            "+t._s(t.$t("admin.dashboard.ticket.order."+n))+"\n          ")]),t._v(" "),e("div",{staticClass:"itemCount"},[t._v("\n            "+t._s(t.dashboard.ticket.counts.orders[n])+"\n          ")])])}))],2)])]):t._e()],1)}),[],!1,null,"47b474ed",null);e.default=component.exports;installComponents(component,{Loading:n(136).default})}}]);